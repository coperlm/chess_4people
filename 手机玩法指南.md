# 📱 手机玩法指南

## 🚀 快速开始

### 方法一：通过电脑服务器访问（推荐）

#### 步骤 1: 启动服务器

在电脑上：
```bash
# Windows用户
双击 start-game.bat

# 或者在命令行运行
node server.js
```

#### 步骤 2: 获取访问地址

服务器启动后，会显示类似以下信息：
```
========================================
   🎮 四人象棋游戏服务器已启动！
========================================
💻 本机访问:
   http://localhost:8080

📱 手机访问 (确保手机和电脑在同一WiFi):
   http://192.168.1.100:8080    ← 使用这个地址
========================================
```

#### 步骤 3: 手机访问

1. **确保手机和电脑连接同一个WiFi**
2. 打开手机浏览器（推荐使用Chrome、Safari）
3. 输入服务器显示的IP地址（如 `http://192.168.1.100:8080`）
4. 开始游戏！

---

### 方法二：直接打开HTML文件

1. 将整个游戏文件夹复制到手机
2. 使用支持HTML5的浏览器打开 `index.html`
3. 某些功能可能受限（推荐使用方法一）

---

## 🎮 手机操作指南

### 基本操作

| 操作 | 说明 |
|------|------|
| 👆 **单击棋子** | 选择要移动的棋子 |
| 👆 **单击格子** | 将选中的棋子移动到该位置 |
| 👆 **单击其他棋子** | 取消当前选择，选择新棋子 |
| 📱 **捏合缩放** | 放大/缩小棋盘（部分浏览器支持） |

### 按钮功能

- **新游戏** - 重新开始一局
- **悔棋** - 撤销上一步（四步内）
- **认输** - 当前玩家认输
- **刷新** - 重新加载游戏

---

## 📐 屏幕适配

游戏自动适配不同屏幕尺寸：

### 大屏手机（≥640px）
- 棋盘格子：40×40px
- 棋子大小：32×32px
- 完整功能显示

### 小屏手机（<640px）
- 棋盘格子：32×32px
- 棋子大小：26×26px
- 界面紧凑优化

### 超小屏（<480px）
- 棋盘格子：28×28px
- 棋子大小：22×22px
- 最小化边距

---

## 💡 使用技巧

### 1. 添加到主屏幕（PWA体验）

**iOS (Safari):**
1. 点击分享按钮 📤
2. 选择"添加到主屏幕"
3. 输入名称（如"四人象棋"）
4. 点击"添加"

**Android (Chrome):**
1. 点击菜单 ⋮
2. 选择"添加到主屏幕"
3. 输入名称
4. 点击"添加"

### 2. 横屏游玩

- 将手机横放可以获得更大的游戏视野
- 棋盘会自动调整尺寸

### 3. 多人同时游玩

- 4部手机分别连接到同一台电脑的服务器
- 每部手机一个玩家
- 围坐在一起游戏（棋盘朝向不同）

---

## ⚠️ 常见问题

### Q: 手机无法访问电脑的地址？

**A: 检查以下几点：**

1. **WiFi连接**
   - 确保手机和电脑在同一个WiFi网络
   - 不要使用移动数据

2. **防火墙设置**（Windows）
   ```
   控制面板 → Windows Defender 防火墙 → 允许应用通过防火墙
   → 勾选 "Node.js" 的专用和公用网络
   ```

3. **IP地址正确**
   - 使用服务器显示的IP地址
   - 不要使用 `localhost` 或 `127.0.0.1`

4. **端口占用**
   - 确保8080端口没有被其他程序占用
   - 可以在server.js中修改端口号

### Q: 触摸没有反应？

**A: 尝试：**
- 刷新页面
- 清除浏览器缓存
- 使用其他浏览器（推荐Chrome/Safari）
- 检查是否有其他手势冲突

### Q: 棋盘显示不完整？

**A: 解决方法：**
- 横屏查看
- 缩小浏览器页面（双指捏合）
- 使用更大屏幕的设备

### Q: 游戏进度会保存吗？

**A:** 
- ✅ 本地保存到浏览器（每次操作自动保存）
- ⚠️ 清除浏览器数据会丢失进度
- ⚠️ 关闭浏览器标签页后刷新会恢复

---

## 🎯 推荐配置

### 最佳体验

- **设备**: 屏幕 ≥5.5英寸
- **方向**: 横屏
- **浏览器**: Chrome/Safari最新版
- **网络**: WiFi（局域网）

### 支持的浏览器

| 浏览器 | 支持情况 |
|--------|---------|
| Chrome (Android) | ✅ 完美支持 |
| Safari (iOS) | ✅ 完美支持 |
| Firefox | ✅ 良好支持 |
| Edge | ✅ 良好支持 |
| UC浏览器 | ⚠️ 部分支持 |
| 微信内置浏览器 | ⚠️ 部分支持 |

---

## 🔧 高级设置

### 修改服务器端口

编辑 `server.js`:
```javascript
const PORT = 8080;  // 改为其他端口，如 3000
```

### 允许外网访问（不推荐）

如果需要外网访问（安全风险！）：
1. 在路由器设置端口转发
2. 使用动态DNS服务
3. 获取公网IP后访问

---

## 📊 性能优化

### 网络延迟优化

- 使用5GHz WiFi（如果支持）
- 靠近路由器
- 减少同时连接设备数量

### 电池优化

- 降低屏幕亮度
- 关闭后台应用
- 不玩时关闭标签页

---

## 🆘 技术支持

遇到问题？

1. **查看控制台日志**
   - Chrome: 菜单 → 更多工具 → 开发者工具 → Console
   - Safari: 设置 → Safari → 高级 → 网页检查器

2. **重启服务器**
   - 电脑端按 Ctrl+C 停止
   - 重新运行 `node server.js`

3. **重置游戏**
   - 浏览器菜单 → 清除浏览数据 → 缓存和Cookie
   - 刷新页面

---

## 🎉 享受游戏！

现在你可以随时随地在手机上享受四人象棋的乐趣了！

**小贴士**: 建议4个人每人拿一部手机，围坐在一起游玩，体验最佳！
